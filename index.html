<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusConnect - Student Marketplace</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar for Desktop -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <i class="fas fa-university"></i>
                <span>CampusConnect</span>
            </div>
            
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="showPage('home')">
                    <i class="fas fa-home nav-icon"></i>
                    <span class="nav-label">Home</span>
                </div>
                <div class="nav-item" onclick="showPage('events')">
                    <i class="fas fa-calendar-alt nav-icon"></i>
                    <span class="nav-label">Events</span>
                </div>
                <div class="nav-item" onclick="showPage('notes')">
                    <i class="fas fa-file-alt nav-icon"></i>
                    <span class="nav-label">Study Notes</span>
                </div>
                <div class="nav-item" onclick="showPage('notifications')">
                    <div style="display: flex; align-items: center; gap: 1rem; width: 100%;">
                        <i class="fas fa-bell nav-icon"></i>
                        <span class="nav-label">Notifications</span>
                        <span class="nav-badge" id="sidebarNotificationBadge">3</span>
                    </div>
                </div>
                <div class="nav-item" onclick="showPage('profile')">
                    <i class="fas fa-user nav-icon"></i>
                    <span class="nav-label">Profile</span>
                </div>
                <div class="nav-item" onclick="showPage('myListings')">
                    <i class="fas fa-shopping-bag nav-icon"></i>
                    <span class="nav-label">My Listings</span>
                </div>
                <div class="nav-item" onclick="showPage('savedItems')">
                    <i class="fas fa-heart nav-icon"></i>
                    <span class="nav-label">Saved Items</span>
                </div>
                <div class="nav-item" onclick="showPage('helpSupport')">
                    <i class="fas fa-question-circle nav-icon"></i>
                    <span class="nav-label">Help & Support</span>
                </div>
                <div class="nav-item" onclick="showSellModal()">
                    <i class="fas fa-tag nav-icon"></i>
                    <span class="nav-label">Sell Item</span>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Mobile Header -->
            <div class="mobile-header">
                <button class="mobile-menu-btn" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <i class="fas fa-university"></i>
                    <span>CampusConnect</span>
                </div>
                <div style="width: 40px;"></div>
            </div>

            <!-- Desktop Header -->
            <div class="header">
                <div class="header-content">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Search for books, notes, events..." onkeyup="handleSearch()">
                    </div>
                    
                    <div class="search-results" id="searchResults"></div>
                </div>
                
                <div class="user-actions">
                    <button class="user-action-btn" onclick="showSellModal()">
                        <i class="fas fa-tag"></i> Sell Item
                    </button>
                    <button class="user-action-btn" onclick="showCreateEventModal()">
                        <i class="fas fa-calendar-plus"></i> Create Event
                    </button>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="action-btn" onclick="showMarketplace()">
                    <i class="fas fa-shopping-cart"></i> Buy
                </button>
                <button class="action-btn" onclick="showSellModal()">
                    <i class="fas fa-tag"></i> Sell
                </button>
                <button class="action-btn" onclick="showPage('events')">
                    <i class="fas fa-calendar-alt"></i> Events
                </button>
                <button class="action-btn" onclick="showPage('notes')">
                    <i class="fas fa-file-alt"></i> Notes
                </button>
                <button class="action-btn" onclick="showPage('notifications')">
                    <i class="fas fa-bell"></i> Notifications
                </button>
            </div>

            <!-- Content Pages -->
            <div class="main-content-pages">
                <!-- Home Page -->
                <div id="home" class="page active">
                    <div class="section-header">
                        <h2 class="section-title">Trending Items</h2>
                        <a class="see-all" onclick="showMarketplace()">See All</a>
                    </div>
                    
                    <div class="products-grid" id="trendingProducts"></div>

                    <div class="section-header">
                        <h2 class="section-title">Upcoming Events</h2>
                        <a class="see-all" onclick="showPage('events')">See All</a>
                    </div>
                    
                    <div class="events-list" id="upcomingEvents"></div>
                </div>

                <!-- Events Page -->
                <div id="events" class="page">
                    <div class="section-header">
                        <h2 class="section-title">College Events</h2>
                        <a class="see-all" onclick="showCreateEventModal()">Create Event</a>
                    </div>
                    
                    <div class="events-list" id="allEvents"></div>
                </div>

                <!-- Notes Page -->
                <div id="notes" class="page">
                    <div class="section-header">
                        <h2 class="section-title">Study Notes</h2>
                        <a class="see-all" onclick="showUploadNotesModal()">Upload Notes</a>
                    </div>
                    
                    <div class="notes-grid" id="notesGrid"></div>
                </div>

                <!-- Notifications Page -->
                <div id="notifications" class="page">
                    <div class="section-header">
                        <h2 class="section-title">Notifications</h2>
                        <a class="see-all" onclick="markAllNotificationsRead()">Mark All Read</a>
                    </div>
                    
                    <div class="notifications-list" id="notificationsList"></div>
                </div>

                <!-- Profile Page -->
                <div id="profile" class="page">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <h1 class="profile-name">Sai Prasad</h1>
                        <p class="profile-role">Computer Science Student</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-item" onclick="showPage('myListings')">
                            <div class="stat-value">12</div>
                            <div class="stat-label">Listings</div>
                        </div>
                        <div class="stat-item" onclick="showPage('soldItems')">
                            <div class="stat-value">8</div>
                            <div class="stat-label">Sold</div>
                        </div>
                        <div class="stat-item" onclick="showRatingsModal()">
                            <div class="stat-value">4.8</div>
                            <div class="stat-label">Rating</div>
                        </div>
                    </div>
                    
                    <div class="profile-menu">
                        <div class="menu-item" onclick="showEditProfileModal()">
                            <div class="menu-icon">
                                <i class="fas fa-user-edit"></i>
                            </div>
                            <div class="menu-text">Edit Profile</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showPage('myListings')">
                            <div class="menu-icon">
                                <i class="fas fa-shopping-bag"></i>
                            </div>
                            <div class="menu-text">My Listings</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showPage('savedItems')">
                            <div class="menu-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="menu-text">Saved Items</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showSettingsModal()">
                            <div class="menu-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="menu-text">Settings</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showPage('helpSupport')">
                            <div class="menu-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <div class="menu-text">Help & Support</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>

                <!-- My Listings Page -->
                <div id="myListings" class="page">
                    <div class="section-header">
                        <h2 class="section-title">My Listings</h2>
                        <a class="see-all" onclick="showPage('profile')">Back to Profile</a>
                    </div>
                    
                    <div id="myListingsContainer"></div>
                </div>

                <!-- Saved Items Page -->
                <div id="savedItems" class="page">
                    <div class="section-header">
                        <h2 class="section-title">Saved Items</h2>
                        <a class="see-all" onclick="showPage('profile')">Back to Profile</a>
                    </div>
                    
                    <div class="saved-items-grid" id="savedItemsGrid"></div>
                </div>

                <!-- Help & Support Page -->
                <div id="helpSupport" class="page">
                    <div class="section-header">
                        <h2 class="section-title">Help & Support</h2>
                        <a class="see-all" onclick="showPage('profile')">Back to Profile</a>
                    </div>
                    
                    <div class="help-section">
                        <h3 class="mb-1">Frequently Asked Questions</h3>
                        <div class="help-item" onclick="showFAQAnswer(1)">How do I sell an item?</div>
                        <div class="help-item" onclick="showFAQAnswer(2)">How do I contact a seller?</div>
                        <div class="help-item" onclick="showFAQAnswer(3)">What payment methods are accepted?</div>
                        <div class="help-item" onclick="showFAQAnswer(4)">How do I report an issue?</div>
                    </div>

                    <div class="help-section">
                        <h3 class="mb-1">Contact Support</h3>
                        <div class="card">
                            <p><strong>Email:</strong> support@campusconnect.edu</p>
                            <p><strong>Phone:</strong> (555) 123-4567</p>
                            <p><strong>Office Hours:</strong> Mon-Fri, 9AM-5PM</p>
                            <button class="btn btn-primary mt-1" onclick="contactSupport()">
                                <i class="fas fa-envelope"></i> Send Message
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation for Mobile -->
        <div class="bottom-nav">
            <div class="nav-item-mobile active" onclick="showPage('home')">
                <i class="fas fa-home nav-icon-mobile"></i>
                <span class="nav-label-mobile">Home</span>
            </div>
            <div class="nav-item-mobile" onclick="showPage('events')">
                <i class="fas fa-calendar-alt nav-icon-mobile"></i>
                <span class="nav-label-mobile">Events</span>
            </div>
            <div class="nav-item-mobile" onclick="showPage('notifications')">
                <div style="position: relative;">
                    <i class="fas fa-bell nav-icon-mobile"></i>
                    <span class="nav-badge-mobile" id="notificationBadge">3</span>
                </div>
                <span class="nav-label-mobile">Alerts</span>
            </div>
            <div class="nav-item-mobile" onclick="showPage('profile')">
                <i class="fas fa-user nav-icon-mobile"></i>
                <span class="nav-label-mobile">Profile</span>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Sell Item Modal -->
    <div class="modal" id="sellModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Sell Your Item</h2>
                <button class="close-modal" onclick="closeModal('sellModal')">&times;</button>
            </div>
            <form id="sellForm">
                <div class="form-group">
                    <label class="form-label">Item Title</label>
                    <input type="text" class="form-input" id="itemTitle" placeholder="e.g., Calculus Textbook 2024 Edition" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="itemCategory" required>
                        <option value="">Select Category</option>
                        <option value="books">Textbooks</option>
                        <option value="notes">Study Notes</option>
                        <option value="electronics">Electronics</option>
                        <option value="stationery">Stationery</option>
                        <option value="clothing">Clothing</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Price ($)</label>
                    <input type="number" class="form-input" id="itemPrice" placeholder="0" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Condition</label>
                    <select class="form-select" id="itemCondition" required>
                        <option value="">Select Condition</option>
                        <option value="new">New</option>
                        <option value="like-new">Like New</option>
                        <option value="good">Good</option>
                        <option value="fair">Fair</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" id="itemDescription" placeholder="Describe your item in detail..." required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Image URL</label>
                    <input type="text" class="form-input" id="itemImage" placeholder="https://example.com/image.jpg">
                </div>
                <button type="button" class="btn btn-primary btn-block" onclick="handleSellItem()">
                    <i class="fas fa-upload"></i> List Item for Sale
                </button>
            </form>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Edit Profile</h2>
                <button class="close-modal" onclick="closeModal('editProfileModal')">&times;</button>
            </div>
            <form id="profileForm">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="profileName" value="Sai Prasad" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="profileEmail" value="sai.prasad@university.edu" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Major</label>
                    <input type="text" class="form-input" id="profileMajor" value="Computer Science" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Year</label>
                    <select class="form-select" id="profileYear" required>
                        <option value="freshman">Freshman</option>
                        <option value="sophomore">Sophomore</option>
                        <option value="junior" selected>Junior</option>
                        <option value="senior">Senior</option>
                        <option value="graduate">Graduate</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Bio</label>
                    <textarea class="form-textarea" id="profileBio">Passionate about technology and entrepreneurship. Always looking for great deals on textbooks and study materials!</textarea>
                </div>
                <button type="button" class="btn btn-primary btn-block" onclick="handleProfileUpdate()">
                    <i class="fas fa-save"></i> Update Profile
                </button>
            </form>
        </div>
    </div>

    <!-- Create Event Modal -->
    <div class="modal" id="createEventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Create Event</h2>
                <button class="close-modal" onclick="closeModal('createEventModal')">&times;</button>
            </div>
            <form id="eventForm">
                <div class="form-group">
                    <label class="form-label">Event Title</label>
                    <input type="text" class="form-input" id="eventTitle" placeholder="e.g., Tech Workshop 2024" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="eventDate" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Time</label>
                    <input type="time" class="form-input" id="eventTime" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input type="text" class="form-input" id="eventLocation" placeholder="e.g., Main Campus Hall" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" id="eventDescription" placeholder="Describe your event..." required></textarea>
                </div>
                <button type="button" class="btn btn-primary btn-block" onclick="handleCreateEvent()">
                    <i class="fas fa-calendar-plus"></i> Create Event
                </button>
            </form>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div class="modal" id="purchaseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Complete Purchase</h2>
                <button class="close-modal" onclick="closeModal('purchaseModal')">&times;</button>
            </div>
            <div id="purchaseContent"></div>
            <div class="form-group mt-2">
                <label class="form-label">Select Payment Method</label>
                <select class="form-select" id="paymentMethod">
                    <option value="cash">Cash (In Person)</option>
                    <option value="venmo">Venmo</option>
                    <option value="paypal">PayPal</option>
                    <option value="campus">Campus Payment</option>
                </select>
            </div>
            <button type="button" class="btn btn-primary btn-block mt-2" onclick="completePurchase()">
                <i class="fas fa-shopping-cart"></i> Complete Purchase
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
